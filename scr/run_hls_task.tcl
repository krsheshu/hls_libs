#------------------------------------------------------------------
# Setting project paths and output directory
#------------------------------------------------------------------

set   PROJECT_NAME				      $::env(PROJECT_NAME)
set   SOLUTION_NAME           	$::env(SOLUTION_NAME)

set   HLS_EXEC                	$::env(HLS_EXEC)


#------------------------------------------------------------------
# Creating the Project
#------------------------------------------------------------------

open_project  		              ${PROJECT_NAME}

#------------------------------------------------------------------
# Open and Configure the Solution, apply directives
#------------------------------------------------------------------

open_solution				            ${SOLUTION_NAME}

#------------------------------------------------------------------
# Run Simulate
#------------------------------------------------------------------
if { ${HLS_EXEC} == 0 } {
	csim_design
}

#------------------------------------------------------------------
# Run Synthesize
#------------------------------------------------------------------
if { ${HLS_EXEC} == 1 } {
  csynth_design
}

#------------------------------------------------------------------
# Run Synthesize, RTL Cosim
#------------------------------------------------------------------
if { ${HLS_EXEC} == 2 } {
  cosim_design
}

#------------------------------------------------------------------
# Run Synthesize, RTL Cosim
#------------------------------------------------------------------
if { ${HLS_EXEC} == 3 } {
  export_design
}


#------------------------------------------------------------------
# Done!
#------------------------------------------------------------------
exit
